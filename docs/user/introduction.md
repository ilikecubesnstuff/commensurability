# Introduction

See the [installation guide](../installation.md) for installing the package.

```
pip install orbit-tessellation
```

## Using the package

```
import numpy as np
from tessellation import Tessellation
```

[`Tessellation`](../reference/tessellation/constructor.md#tessellation.constructor.Tessellation) accepts a point array of shape `(npoints, ndim)` (e.g. 100 two-dimensional points mean a shape of `(100, 2)`).
This is where you may pass in a point array generated from an orbit integration routine.
For demonstration, a random set of points will be generated here.

=== "2D Example"

    ``` py
    # sample points around a circle
    rng = np.random.default_rng(0)
    theta = rng.uniform(-np.pi, np.pi, 100)
    points = np.transpose([np.cos(theta), np.sin(theta)])

    # add random noise
    points += rng.normal(0, 0.05, points.shape)
    ```

=== "3D Example"

    ``` py
    # sample points near the equator of a sphere
    rng = np.random.default_rng(0)
    phi = rng.uniform(-np.pi, np.pi, 200)
    theta = rng.uniform(-np.pi/8, np.pi/8, 200)
    points = np.transpose([
        np.cos(theta) * np.cos(phi),
        np.cos(theta) * np.sin(phi),
        np.sin(theta),
    ])

    # add random noise
    points += rng.normal(0, 0.05, points.shape)
    ```

!!! warning "Degeneracy"
    The Delaunay triangulation fails when the point set is degenerate or co-spherical.
    The above example would fail if no random noise was added.

This random point set can then be passed into [`Tessellation`](../reference/tessellation/constructor.md#tessellation.constructor.Tessellation).

``` py
tess = Tessellation(points)
```

This returns an object with four attributes of note:

- `tess.measure`: The normalized commensurability value normalized between 0 and 1.
    - In 2 dimensional tessellations, [`tess.area`](../reference/tessellation/dim2.md#tessellation.dim2.Tessellation2D.area) is an alias for `tess.measure`.
    - In 3 dimensional tessellations, [`tess.volume`](../reference/tessellation/dim3.md#tessellation.dim3.Tessellation3D.volume) is an alias for `tess.measure`.
- `tess.points`: The original point set passed in during initialization.
- `tess.tri`: The object returned by [`scipy.spatial.Delaunay`](https://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.Delaunay.html#scipy-spatial-delaunay).
- `tess.mask`: The boolean mask generated by the trimming algorithm across the tessellationâ€”the corresponding simplices are stored in `tess.tri.simplices`.

!!! note "Failed Triangulations"
    If the point set is degenerate or co-spherical,

    - `tess.tri` will be set to a [`FailedDelaunay`](../reference/tessellation/base.md#tessellation.base.FailedDelaunay) instance.
    - `tess.mask` will be set to `None`.
    - `tess.measure` will be set to `0.0`.

For 2 and 3 dimensional tessellations specifically, you can display a plot of the tessellation using [`tess.plot()`](../reference/tessellation/base.md#tessellation.base.TessellationBase.plot).
